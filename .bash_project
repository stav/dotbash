# .bash_project: executed by .bash_profile
# Project context switching

# Projects are private
[ -r ~/.bash_private ] && source ~/.bash_private

function sw ()
{
	if [ ${#projekts[@]} -gt 0 ]; then # We have projects in private
		if [ -n "$1" ]; then # We have a command argument

			if [ -v projekts[$1] ]; then # We have a valid project
				project=(${projekts[$1]})
				venv=${project[0]}
				vdir=${project[1]}
				[ $venv != 0 ] && workon $venv
				[ -n "$vdir" ] && cd "$HOME/$vdir"
			else
				return 1
			fi

		else
			# List projects
			echo
			echo 'PROJECTS'
			echo
			for p in "${!projekts[@]}";do
				echo "$p : ${projekts[$p]}"
			done
			echo
			echo 'ENVIRONMENTS'
			echo
			workon
			return 0
		fi
	fi
}
